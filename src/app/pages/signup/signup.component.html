<form [formGroup]="signUpForm">
  <mat-card>
    <mat-card-header>
      <mat-card-title [ngClass]="'mat-card-title'">Sign Up</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <mat-hint class="error-message outside-error" *ngIf="accountDoesExist">
        <mat-icon
          aria-hidden="false"
          aria-label="Warning Icon"
          fontIcon="warning"
        ></mat-icon>
        This account already exists. Try another name or e-mail.</mat-hint
      >

      <div class="form-field">
        <mat-hint
          class="error-message"
          *ngIf="
            signUpForm.controls.name.invalid &&
            (signUpForm.controls.name.dirty || signUpForm.controls.name.touched)
          "
        >
          <mat-icon
            aria-hidden="false"
            aria-label="Warning Icon"
            fontIcon="warning"
          ></mat-icon>
          Name is required.</mat-hint
        >

        <div class="input-field">
          <mat-icon
            class="input-icon"
            aria-hidden="false"
            aria-label="Person Icon"
            fontIcon="person"
          ></mat-icon>

          <input
            matInput
            type="text"
            [class.error]="
              signUpForm.controls.name.invalid &&
              (signUpForm.controls.name.dirty ||
                signUpForm.controls.name.touched)
            "
            id="name"
            name="name"
            formControlName="name"
            placeholder="Name..."
            autocomplete="off"
            required
          />
        </div>
      </div>

      <div class="form-field">
        <mat-hint
          class="error-message"
          *ngIf="
            signUpForm.controls.email.invalid &&
            (signUpForm.controls.email.dirty ||
              signUpForm.controls.email.touched)
          "
        >
          <mat-icon
            aria-hidden="false"
            aria-label="Warning Icon"
            fontIcon="warning"
          ></mat-icon>
          E-mail is required.</mat-hint
        >

        <div class="input-field">
          <mat-icon
            class="input-icon"
            aria-hidden="false"
            aria-label="E-mail Icon"
            fontIcon="email"
          ></mat-icon>

          <input
            matInput
            type="email"
            [class.error]="
              signUpForm.controls.email.invalid &&
              (signUpForm.controls.email.dirty ||
                signUpForm.controls.email.touched)
            "
            id="email"
            name="email"
            formControlName="email"
            placeholder="E-mail..."
            autocomplete="off"
            required
            title="Please enter a valid email address"
          />
        </div>
      </div>

      <div class="form-field">
        <mat-hint
          class="error-message"
          *ngIf="
            signUpForm.controls.password.invalid &&
            (signUpForm.controls.password.dirty ||
              signUpForm.controls.password.touched)
          "
        >
          <mat-icon
            aria-hidden="false"
            aria-label="Warning Icon"
            fontIcon="warning"
          ></mat-icon>
          Password must have between 8 and 16 characters</mat-hint
        >

        <app-auth-password-input
          [authFormControl]="signUpFormControl"
          [errorValidation]="
            signUpForm.controls.password.invalid &&
            (signUpForm.controls.password.dirty ||
              signUpForm.controls.password.touched)
          "
        ></app-auth-password-input>
      </div>
    </mat-card-content>

    <mat-card-actions>
      <button type="button" (click)="onClick()" mat-raised-button>
        Create Account
      </button>

      <p class="other-auth-option">
        Already have an account? <a routerLink="/signin">Sign In</a>
      </p>
    </mat-card-actions>
  </mat-card>
</form>
